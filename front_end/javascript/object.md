<!-- javascript object.md -->
# javascriptå¯¹è±¡

## åŸºç¡€

ä¸€ä¸ªå¯¹è±¡å°±æ˜¯ä¸€ç³»åˆ—å±žæ€§çš„é›†åˆï¼Œä¸€ä¸ªå±žæ€§åŒ…å«ä¸€ä¸ªåå’Œä¸€ä¸ªå€¼ã€‚ä¸€ä¸ªå±žæ€§çš„å€¼å¯ä»¥æ˜¯å‡½æ•°ï¼Œè¿™ç§æƒ…å†µä¸‹å±žæ€§ä¹Ÿè¢«ç§°ä¸ºæ–¹æ³•ã€‚


```javascript
//è®¿é—®æ–¹å¼
person.lastname = person["lastname"];

```
> é€šè¿‡æ–¹æ‹¬å·æ ‡è®°è®¿é—®åœ¨å±žæ€§åç§°æ˜¯åŠ¨æ€åˆ¤å®šï¼ˆå±žæ€§ååªæœ‰åˆ°è¿è¡Œæ—¶æ‰èƒ½åˆ¤å®šï¼‰ã€‚
> å¯ä½¿ç”¨å˜é‡ä½œä¸ºä¸‹æ ‡
> æ–¹æ‹¬å·ä¸­çš„æ‰€æœ‰é”®éƒ½å°†è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»åž‹ï¼Œå› ä¸º JavaScript ä¸­çš„å¯¹è±¡åªèƒ½ä½¿ç”¨ String ç±»åž‹ä½œä¸ºé”®ç±»åž‹ã€‚



**æžšä¸¾ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±žæ€§å€¼**

- for...in: ä¾æ¬¡è®¿é—®ä¸€ä¸ªå¯¹è±¡åŠå…¶åŽŸåž‹é“¾ä¸­æ‰€æœ‰å¯æžšä¸¾çš„å±žæ€§ã€‚
- Object.keys(o):   è¯¥æ–¹æ³•è¿”å›žå¯¹è±¡oè‡ªèº«åŒ…å«ï¼ˆä¸åŒ…æ‹¬åŽŸåž‹ä¸­ï¼‰çš„æ‰€æœ‰å¯æžšä¸¾å±žæ€§çš„åç§°çš„æ•°ç»„ã€‚
- Object.getOwnPropertyNames(o): è¿”å›žå¯¹è±¡oè‡ªèº«åŒ…å«ï¼ˆä¸åŒ…æ‹¬åŽŸåž‹ä¸­ï¼‰çš„æ‰€æœ‰å±žæ€§ (æ— è®ºæ˜¯å¦å¯æžšä¸¾) çš„åç§°çš„æ•°ç»„ã€‚



**åˆ›å»ºæ–°å¯¹è±¡**

- ä½¿ç”¨å­—é¢å€¼

å¯¹è±¡å­—é¢å€¼ï¼šå¯¹è±¡ç”±èŠ±æ‹¬å·åˆ†éš”ã€‚åœ¨æ‹¬å·å†…éƒ¨ï¼Œå¯¹è±¡çš„å±žæ€§ä»¥åç§°å’Œå€¼å¯¹çš„å½¢å¼ (name : value) æ¥å®šä¹‰ï¼Œå±žæ€§ç”±é€—å·åˆ†éš”

```javascript
var obj = {
  property_1: value_1, // property_# å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦...
  2: value_2, // æˆ–ä¸€ä¸ªæ•°å­—...
  ["property" + 3]: value_3, //  æˆ–ä¸€ä¸ªå¯è®¡ç®—çš„ key å...
  // ...,
  "property n": value_n,
}; // æˆ–ä¸€ä¸ªå­—ç¬¦ä¸²
```

- ä½¿ç”¨æž„é€ å‡½æ•°
    - é€šè¿‡åˆ›å»ºä¸€ä¸ªæž„é€ å‡½æ•°æ¥å®šä¹‰å¯¹è±¡çš„ç±»åž‹ã€‚é¦–å­—æ¯å¤§å†™æ˜¯éžå¸¸æ™®éè€Œä¸”å¾ˆæ°å½“çš„æƒ¯ç”¨æ³•ã€‚
    - é€šè¿‡ new åˆ›å»ºå¯¹è±¡å®žä¾‹ã€‚

```javascript
// å®šä¹‰æž„é€ å‡½æ•°
function Person(name, age) {
  this.name = name; // ä½¿ç”¨thiså®šä¹‰å±žæ€§
  this.age = age;
  
  // å®šä¹‰æ–¹æ³•
  this.sayHello = function() {
    console.log('Hello, my name is ' + this.name);
  };
}

// ä½¿ç”¨æž„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡
const person1 = new Person('Alice', 25);
const person2 = new Person('Bob', 30);

// è°ƒç”¨æ–¹æ³•
person1.sayHello(); // è¾“å‡º: Hello, my name is Alice
person2.sayHello(); // è¾“å‡º: Hello, my name is Bob

// è®¿é—®å±žæ€§
console.log(person1.age); // è¾“å‡º: 25
console.log(person2.age); // è¾“å‡º: 30
```
> ä½ æ€»æ˜¯å¯ä»¥ä¸ºä¹‹å‰å®šä¹‰çš„å¯¹è±¡å¢žåŠ æ–°çš„å±žæ€§ã€‚å°±åƒä¸ºå…³è”æ•°ç»„æ·»åŠ é”®å€¼å¯¹ä¸€æ ·ç®€å•ï¼Œä¾‹å¦‚person1.sex = man;



- ä½¿ç”¨Object.createæ–¹æ³•

å®ƒå…è®¸ä½ ä¸ºåˆ›å»ºçš„å¯¹è±¡é€‰æ‹©ä¸€ä¸ªåŽŸåž‹å¯¹è±¡ï¼Œè€Œä¸ç”¨å®šä¹‰æž„é€ å‡½æ•°ã€‚

```javascript
var newObjectName = Object.create(oldObjectName)
```

> ä½¿ç”¨Object.setPrototypeOf()
> å…è®¸ä¿®æ”¹çŽ°æœ‰å¯¹è±¡çš„__proto__å†…éƒ¨å±žæ€§ã€‚


- ä½¿ç”¨ç±»

```javascript
class {
    constructor(){
        ...
    }
    ...
}
```

**åˆ é™¤å±žæ€§**

ä½ å¯ä»¥ç”¨ delete æ“ä½œç¬¦åˆ é™¤ä¸€ä¸ªä¸æ˜¯ç»§æ‰¿è€Œæ¥çš„å±žæ€§ã€‚
```javascript
delete objectname.attributename
```
> å¦‚æžœä¸€ä¸ªå…¨å±€å˜é‡ä¸æ˜¯ç”¨ var å…³é”®å­—å£°æ˜Žçš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ delete åˆ é™¤å®ƒï¼š



## ç»§æ‰¿

æ‰€æœ‰çš„ JavaScript å¯¹è±¡è‡³å°‘ç»§æ‰¿äºŽä¸€ä¸ªå¯¹è±¡ã€‚è¢«ç»§æ‰¿çš„å¯¹è±¡è¢«ç§°ä½œåŽŸåž‹ï¼Œå¹¶ä¸”ç»§æ‰¿çš„å±žæ€§å¯é€šè¿‡æž„é€ å‡½æ•°çš„ prototype å¯¹è±¡æ‰¾åˆ°ã€‚

å¯ä»¥é€šè¿‡ prototypeå±žæ€§ä¸ºä¹‹å‰å®šä¹‰çš„å¯¹è±¡ç±»åž‹å¢žåŠ å±žæ€§ã€‚è¿™ä¸ºè¯¥ç±»åž‹çš„æ‰€æœ‰å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä»…ä»…ä¸€ä¸ªå¯¹è±¡å¢žåŠ äº†ä¸€ä¸ªå±žæ€§ã€‚


1. åŽŸåž‹é“¾ç»§æ‰¿
2. ES6ç»§æ‰¿







## javascriptç±»


JavaScript æ˜¯ä¸€ä¸ªåŸºäºŽåŽŸåž‹çš„è¯­è¨€â€”â€”ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºŽå®ƒè‡ªèº«çš„å±žæ€§åŠå…¶åŽŸåž‹çš„å±žæ€§ã€‚

ç±»çš„ä¸‰ä¸ªç‰¹å¾

- æž„é€ å‡½æ•°
- å®žä¾‹æ–¹æ³•å’Œå®žä¾‹å±žæ€§
- é™æ€æ–¹æ³•å’Œé™æ€å±žæ€§


**å£°æ˜Žä¸€ä¸ªç±»**

```js
//å®šä¹‰ç±»
class className {
  // æž„é€ å‡½æ•°
  constructor() {
    // æž„é€ å‡½æ•°ä½“
  }
  // å®žä¾‹å­—æ®µ
  myField = "foo";
  // å®žä¾‹æ–¹æ³•
  myMethod() {
    // myMethod ä½“
  }
  // é™æ€å­—æ®µ
  static myStaticField = "bar";
  // é™æ€æ–¹æ³•
  static myStaticMethod() {
    // myStaticMethod ä½“
  }
  // é™æ€å—
  static {
    // é™æ€åˆå§‹åŒ–ä»£ç 
  }
  // å­—æ®µã€æ–¹æ³•ã€é™æ€å­—æ®µã€é™æ€æ–¹æ³•ã€é™æ€å—éƒ½å¯ä»¥ä½¿ç”¨ç§æœ‰å½¢å¼
  #myPrivateField = "bar";
}

//ä½¿ç”¨ç±»
var objName = new className();
```

> ç±»å£°æ˜Žä¸ä¼šè¢«æå‡


- ç±»è¡¨è¾¾å¼
```js
var variable = class{
    constructor() {...}
    ...
}
```



---

**getterå’Œsetteræ–¹æ³•**



ä¸€ä¸ª getter æ˜¯ä¸€ä¸ªèŽ·å–æŸä¸ªç‰¹å®šå±žæ€§çš„å€¼çš„æ–¹æ³•ã€‚ä¸€ä¸ª setter æ˜¯ä¸€ä¸ªè®¾å®šæŸä¸ªå±žæ€§çš„å€¼çš„æ–¹æ³•ã€‚

getter å­—æ®µå…è®¸æˆ‘ä»¬åƒè®¿é—®â€œå®žé™…å±žæ€§â€ä¸€æ ·æ“ä½œæŸäº›ä¸œè¥¿ã€‚


```javascript
class Color {
  constructor(r, g, b) {
    this.values = [r, g, b];
  }
  get red() {
    return this.values[0];
  }
  set red(value) {
    this.values[0] = value;
  }
}

const red = new Color(255, 0, 0);
red.red = 0;
console.log(red.red); // 0
```
> è¿™å°±åƒæ˜¯å¯¹è±¡æœ‰äº†ä¸€ä¸ª red å±žæ€§â€”â€”ä½†å®žé™…ä¸Šï¼Œå®žä¾‹ä¸Šå¹¶æ²¡æœ‰è¿™æ ·çš„å±žæ€§ï¼å®žä¾‹åªæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«ä»¥ get å’Œ set ä¸ºå‰ç¼€ï¼Œè€Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥åƒæ“ä½œå±žæ€§ä¸€æ ·æ“ä½œå®ƒä»¬ã€‚




---

**ç»§æ‰¿**

- ç»§æ‰¿çš„è¦ç´ 
    - ä½¿ç”¨ extends å…³é”®å­—ã€‚
    - super() æ–¹æ³•ç”¨äºŽè°ƒç”¨çˆ¶ç±»çš„æž„é€ å‡½æ•°ã€‚

> é™¤äº†ç§æœ‰å±žæ€§ï¼Œéƒ½ä¼šè¢«ç»§æ‰¿
    

- ç»§æ‰¿çš„æ–¹å¼
    - ä½¿ç”¨åŽŸåž‹é“¾ç»§æ‰¿
    - ä½¿ç”¨ES6ç±»ç»§æ‰¿

---

**é™æ€å±žæ€§**

ä½¿ç”¨staticä¿®é¥°

- é™æ€å±žæ€§
    > é™æ€å±žæ€§ä¸Žå®žä¾‹å±žæ€§çš„åŒºåˆ«åœ¨äºŽï¼šå®ƒä»¬æœ‰ static å‰ç¼€ï¼Œä¸”å®ƒä»¬ä¸èƒ½ä»Žå®žä¾‹ä¸­è®¿é—®ã€‚
- é™æ€æ–¹æ³•
- é™æ€getterå’Œsetter
- é™æ€ä»£ç å—
    > åœ¨ç±»ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œçš„ä»£ç å—ã€‚



---


**prototype**

æ¯ä¸ª JavaScript å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä¸Žä¹‹å…³è”çš„åŽŸåž‹å¯¹è±¡ï¼Œé€šè¿‡åŽŸåž‹å¯¹è±¡ï¼Œå¯ä»¥å®žçŽ°å±žæ€§å’Œæ–¹æ³•çš„å…±äº«ï¼Œä»Žè€Œå‡å°‘å†…å­˜å ç”¨ã€‚
> å³æ‰€æœ‰çš„ JavaScript å¯¹è±¡éƒ½ä¼šä»Žä¸€ä¸ª prototypeï¼ˆåŽŸåž‹å¯¹è±¡ï¼‰ä¸­ç»§æ‰¿å±žæ€§å’Œæ–¹æ³•ã€‚

- åŽŸåž‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæ˜¯å…¶ä»–å¯¹è±¡çš„æ¨¡æ¿æˆ–è“å›¾ã€‚
- å½“ä¸€ä¸ªå¯¹è±¡è¯•å›¾è®¿é—®ä¸€ä¸ªå±žæ€§æˆ–æ–¹æ³•æ—¶ï¼Œå¦‚æžœåœ¨è¯¥å¯¹è±¡è‡ªèº«æ²¡æœ‰æ‰¾åˆ°ï¼ŒJavaScript ä¼šæ²¿ç€åŽŸåž‹é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°å¯¹åº”çš„å±žæ€§æˆ–æ–¹æ³•ï¼Œæˆ–è€…è¾¾åˆ°åŽŸåž‹é“¾çš„é¡¶ç«¯ null ä¸ºæ­¢ã€‚

**\__proto__ å±žæ€§**

æ¯ä¸ª JavaScript å¯¹è±¡ï¼ˆé™¤äº† nullï¼‰éƒ½è‡ªåŠ¨æ‹¥æœ‰ä¸€ä¸ªéšè—çš„å±žæ€§ __proto__ï¼Œå®ƒæŒ‡å‘è¯¥å¯¹è±¡çš„åŽŸåž‹å¯¹è±¡ã€‚


```js
function Person(name) {
    this.name = name;
}

// åŠ¨æ€åœ°ä¿®æ”¹å¯¹è±¡çš„åŽŸåž‹ï¼Œè¿™æ ·å¯ä»¥å½±å“åˆ°æ‰€æœ‰åŸºäºŽè¯¥åŽŸåž‹åˆ›å»ºçš„å¯¹è±¡
Person.prototype.sayHello = function() {
    console.log("Hello, my name is " + this.name);
};

let alice = new Person("Alice");
alice.sayHello(); // è¾“å‡º: Hello, my name is Alice
```
**è®¾ç½®åŽŸåž‹**

1. **Object.createæ–¹æ³•**

Object.create æ–¹æ³•å…è®¸ä½ åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶å°†å…¶åŽŸåž‹è®¾ç½®ä¸ºæŒ‡å®šçš„å¯¹è±¡ã€‚

```js
let personPrototype = {
    sayHello: function() {
        console.log("Hello, my name is " + this.name);
    }
};

let alice = Object.create(personPrototype);
alice.name = "Alice";
alice.sayHello(); // è¾“å‡º: Hello, my name is Alice
```

2. ä½¿ç”¨æž„é€ å‡½æ•°

æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåä¸º prototype çš„å±žæ€§ã€‚å½“ä½ è°ƒç”¨ä¸€ä¸ªå‡½æ•°ä½œä¸ºæž„é€ å‡½æ•°æ—¶ï¼Œè¿™ä¸ªå±žæ€§è¢«è®¾ç½®ä¸ºæ–°æž„é€ å¯¹è±¡çš„åŽŸåž‹ï¼ˆæŒ‰ç…§æƒ¯ä¾‹ï¼Œåœ¨åä¸º __proto__ çš„å±žæ€§ä¸­ï¼‰ã€‚



> prototypeçš„åŽŸç†ï¼š(ç±»ä¼¼äºŽå•é“¾è¡¨)
> 1. JavaScript å¯¹è±¡æœ‰ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªåŽŸåž‹å¯¹è±¡çš„é“¾ï¼Œå³æŒ‡å‘è¯¥å¯¹è±¡çš„çˆ¶ç±»ã€‚
> 2. ç»§æ‰¿ï¼šå½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§æ—¶ï¼Œå®ƒä¸ä»…ä»…åœ¨è¯¥å¯¹è±¡ä¸Šæœå¯»ï¼Œè¿˜ä¼šæœå¯»è¯¥å¯¹è±¡çš„åŽŸåž‹ï¼Œä»¥åŠè¯¥å¯¹è±¡çš„åŽŸåž‹çš„åŽŸåž‹ï¼Œä¾æ¬¡å±‚å±‚å‘ä¸Šæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåå­—åŒ¹é…çš„å±žæ€§æˆ–åˆ°è¾¾åŽŸåž‹é“¾çš„æœ«å°¾ã€‚

---

**ç±»ã€æž„é€ å‡½æ•°å’ŒåŽŸåž‹ä¹‹é—´çš„å…³ç³»**

ç±»æ˜¯æž„é€ å‡½æ•°å’ŒåŽŸåž‹çš„è¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œåªæ˜¯å°è£…ðŸ“¦çš„å¥½çœ‹

![](assets/classProtocoll.png)



å›¾ä¸­ä»£ç ç­‰ä»·äºŽ ä¸ä½¿ç”¨classè€Œæ˜¯å•ç‹¬ä½¿ç”¨æž„é€ å‡½æ•°å’ŒåŽŸåž‹ 

```javascript
// å®šä¹‰ä¸€ä¸ªæž„é€ å‡½æ•° Personï¼Œç”¨äºŽåˆ›å»ºå…·æœ‰ name å’Œ age å±žæ€§çš„å¯¹è±¡
Function Person(name,age){
    this.name = name;
    this.age = age;
}
// åœ¨ Person çš„åŽŸåž‹ä¸Šå®šä¹‰ä¸€ä¸ªå±žæ€§ xpï¼Œæ‰€æœ‰ Person çš„å®žä¾‹éƒ½ä¼šå…±äº«è¿™ä¸ªå±žæ€§
Person.prototype.xp = 'all';
// åœ¨ Person çš„åŽŸåž‹ä¸Šå®šä¹‰ä¸€ä¸ªæ–¹æ³• sayHello
Person.prototype.sayhello() = function(){
    console.log("Hello,I'm " + this.name):
}
// åˆ›å»ºä¸€ä¸ª Person ç±»çš„å®žä¾‹ p1ï¼Œå¹¶ä¼ å…¥ name å’Œ age å‚æ•°
let p1 = new Person('Dora',6)
```


***å‡½æ•°ä¸ŽåŽŸåž‹çš„å…³ç³»***

- æ‰€æœ‰çš„æ™®é€šå‡½æ•°ï¼ˆåŒ…æ‹¬å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜Žï¼‰éƒ½é»˜è®¤æœ‰ä¸€ä¸ª prototype å±žæ€§ï¼Œå³ä½¿ä¸è¢«ç”¨ä½œæž„é€ å‡½æ•°ã€‚
    - æ¯ä¸ªå‡½æ•°æ‰€å¯¹åº”çš„åŽŸåž‹ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªconstructorå±žæ€§æŒ‡å‘è¯¥å‡½æ•°
> javascriptä¸­æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰å¯èƒ½æˆ–æ½œåŠ›æˆä¸ºæž„é€ å‡½æ•°
- å‡½æ•°çš„ prototype å±žæ€§åœ¨ä½œä¸ºæž„é€ å‡½æ•°ä½¿ç”¨æ—¶æ‰ä¼šæ´¾ä¸Šç”¨åœºï¼ŒæŒ‡å‘å®ƒçš„åŽŸåž‹å¯¹è±¡ã€‚
> ç®­å¤´å‡½æ•°æ²¡æœ‰ prototype å±žæ€§ï¼Œå› ä¸ºå®ƒä»¬ä¸èƒ½è¢«ç”¨ä½œæž„é€ å‡½æ•°ã€‚

# ä½¿ç”¨promise


Promise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆæˆ–è€…å¤±è´¥ã€‚

**åˆ›å»ºä¸€ä¸ªpromiseå¯¹è±¡**

```javascript
new Promise(function (resolve, reject) {
    // è¦åšçš„äº‹æƒ…...
});
```

- Promise æž„é€ å‡½æ•°æŽ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°æ˜¯åŒæ­¥çš„å¹¶ä¸”ä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œè¢«ç§°ä¸ºèµ·å§‹å‡½æ•°
- èµ·å§‹å‡½æ•°åŒ…å«ä¸¤ä¸ªå‚æ•° resolve å’Œ rejectï¼Œåˆ†åˆ«è¡¨ç¤º Promise æˆåŠŸå’Œå¤±è´¥çš„çŠ¶æ€ã€‚
    > resolve å’Œ reject éƒ½æ˜¯å‡½æ•°
    - èµ·å§‹å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œå®ƒåº”è¯¥è°ƒç”¨ resolve å‡½æ•°å¹¶ä¼ é€’æˆåŠŸçš„ç»“æžœ
    > æˆåŠŸæ‰§è¡ŒåŽä½¿ç”¨`resolve(message)`ä¼ é€’ä¿¡æ¯ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡
    - å½“èµ·å§‹å‡½æ•°æ‰§è¡Œå¤±è´¥æ—¶ï¼Œå®ƒåº”è¯¥è°ƒç”¨ reject å‡½æ•°å¹¶ä¼ é€’å¤±è´¥çš„åŽŸå› ã€‚
    > æ‰§è¡Œå¤±è´¥åŽä½¿ç”¨`reject(error_message)`ä¼ é€’å¤±è´¥çš„ä¿¡æ¯
- Promise æž„é€ å‡½æ•°è¿”å›žä¸€ä¸ª Promise å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…·æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š
    - thenï¼šç”¨äºŽå¤„ç† Promise æˆåŠŸçŠ¶æ€çš„å›žè°ƒå‡½æ•°ã€‚
    > resolve() ä¸­å¯ä»¥æ”¾ç½®ä¸€ä¸ªå‚æ•°ç”¨äºŽå‘ä¸‹ä¸€ä¸ª then ä¼ é€’ä¸€ä¸ªå€¼
    - catchï¼šç”¨äºŽå¤„ç† Promise å¤±è´¥çŠ¶æ€çš„å›žè°ƒå‡½æ•°ã€‚
    - finallyï¼šæ— è®º Promise æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œéƒ½ä¼šæ‰§è¡Œçš„å›žè°ƒå‡½æ•°ã€‚
    > è¿™ä¸‰ä¸ªæ–¹æ³•çš„å‚æ•°éƒ½æ˜¯ä¸€ä¸ªå‡½æ•°
    > å…¶å‚æ•°valueç”¨äºŽæŽ¥å—resolveå’Œrejectçš„message


**è¿”å›žä¸€ä¸ªpromiseå¯¹è±¡**

```javascript
function function_name() {
    return new Promise(function (resolve, reject) {
        if(...){
        resolve(success_message)
        }
        else{
        reject(error_message)
        }
    });
}

function_name().then(function (valus){
    ...
}).catch(function (value){
    ...
}).finally(function (){
    ...
})
```

    

**å¼‚æ­¥å‡½æ•°**

- å¼‚æ­¥å‡½æ•° async function ä¸­å¯ä»¥ä½¿ç”¨ await æŒ‡ä»¤
- await æŒ‡ä»¤åŽå¿…é¡»è·Ÿç€ä¸€ä¸ª Promiseï¼Œå¼‚æ­¥å‡½æ•°ä¼šåœ¨è¿™ä¸ª Promise è¿è¡Œä¸­æš‚åœï¼Œç›´åˆ°å…¶è¿è¡Œç»“æŸå†ç»§ç»­è¿è¡Œã€‚
- å¤„ç†å¼‚å¸¸çš„æœºåˆ¶å°†ç”¨ try-catch å—å®žçŽ°


```javascript
async function asyncFunc() {
    await function_name();
    await function_name();
    await function_name();
}
asyncFunc();
```




# è¿­ä»£å™¨


è¿­ä»£å™¨æ˜¯é€šè¿‡ä½¿ç”¨ next() æ–¹æ³•å®žçŽ°äº†è¿­ä»£å™¨åè®®çš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥æ–¹æ³•è¿”å›žå…·æœ‰ä¸¤ä¸ªå±žæ€§çš„å¯¹è±¡ï¼š

- `value`: è¿­ä»£åºåˆ—çš„ä¸‹ä¸€ä¸ªå€¼ã€‚
- `done`: å¦‚æžœå·²ç»è¿­ä»£åˆ°åºåˆ—ä¸­çš„æœ€åŽä¸€ä¸ªå€¼ï¼Œåˆ™å®ƒä¸ºtrueã€‚



**ç”Ÿæˆå™¨å‡½æ•°**

å…è®¸ä½ å®šä¹‰ä¸€ä¸ªéžè¿žç»­æ‰§è¡Œçš„å‡½æ•°ä½œä¸ºè¿­ä»£ç®—æ³•ã€‚

- ç”Ÿæˆå™¨å‡½æ•°ä½¿ç”¨ function* è¯­æ³•ç¼–å†™ã€‚
- ç”Ÿæˆå™¨å‡½æ•°çš„æ¯æ¬¡æ‰§è¡Œä¼šæš‚åœåœ¨ yield è¯­å¥ï¼Œå¹¶è¿”å›žyieldåŽçš„å˜é‡å€¼ï¼Œä¸‹ä¸€æ¬¡è°ƒç”¨ .next() æ—¶ä¼šä»Žæš‚åœçš„åœ°æ–¹ç»§ç»­æ‰§è¡Œã€‚



**å¯è¿­ä»£å¯¹è±¡**

å¯è¿­ä»£å¯¹è±¡ï¼šä¸€ä¸ªå¯¹è±¡æ‹¥æœ‰è¿­ä»£è¡Œä¸ºï¼Œæ¯”å¦‚åœ¨ for...of ä¸­ä¼šå¾ªçŽ¯ä¸€äº›å€¼

- å¿…é¡»å®žçŽ° Symbol.iterator æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›žä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚
- å¿…é¡»å®žçŽ° next() æ–¹æ³•ï¼Œnext() æ–¹æ³•è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«ä¸¤ä¸ªå±žæ€§ï¼š
    - valueï¼šå½“å‰è¿­ä»£æ­¥éª¤çš„å€¼ã€‚
	- doneï¼šå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºè¿­ä»£æ˜¯å¦ç»“æŸã€‚


è‡ªå®šä¹‰å¯è¿­ä»£å¯¹è±¡
```javascript
//å®šä¹‰
var myIterable = {
  *[Symbol.iterator]() {
    yield 1;
    yield 2;
    yield 3;
  },
};


//è°ƒç”¨
for (let value of myIterable) {
  console.log(value);
}
// 1
// 2
// 3

[...myIterable]; // [1, 2, 3]
```




**é«˜çº§ç”Ÿæˆå™¨**

- ç”Ÿæˆå™¨ä¼šæŒ‰éœ€è®¡ç®—å®ƒä»¬ yield çš„å€¼
- next() æ–¹æ³•ä¹ŸæŽ¥å—ä¸€ä¸ªå‚æ•°ç”¨äºŽä¿®æ”¹ç”Ÿæˆå™¨å†…éƒ¨çŠ¶æ€ã€‚ä¼ é€’ç»™ next() çš„å‚æ•°å€¼ä¼šè¢« yield æŽ¥æ”¶ã€‚
    > ä½¿ç”¨`outerValue = yield innerValue`æŽ¥æ”¶ä¼ å…¥å€¼




