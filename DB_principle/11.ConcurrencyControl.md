第十一、并发控制

# 并发控制概述

## 并发控制机制的任务
- 对并发操作进行正确调度
    > 使一个用户事务的执行不受其他事务的干扰，从而避免造成数据的不一致性
- 保证事务的隔离性
- 保证数据库的一致性

## 并发操作可能带来数据不一致性
- 丢失数据
    > 两个事务t1和t2读入同一数据并修改，t2的提交结果破坏了t1提交的结果，导致t1的修改丢失
- 不可重复读
    > t1读取数据后，t2执行更新操作，使t1无法再现前一次读取结果
- 读“脏”数据
    > t1修改某一数据，写入磁盘，t2读取数据后，t1由于某种原因UNDO



# 封锁

## 什么是封锁

封锁就是事务t在对某个数据对象操作之前，先向系统发送请求，对其加锁  
加锁后事务t对该数据有了一定的控制，在事务t释放它的锁前，其他事务不能更新此数据对象

## 基本封锁类型

- 排他锁(Exclusive Locks,简记X锁)
- 共享锁(Share Locks,简记S锁)




# 封锁协议

# 活锁和死锁

# 并发调度的可串行性

# 两段锁协议

# 封锁的粒度

# 小结


